## Синхронизация доступа к разделяемому ресурсу

1. Измените реализацию очереди, добавив спинлок для синхронизации доступа к разделяемым данным.
2. Убедитесь, что не возникает ошибок передачи данных через очередь.
3. Поиграйте параметрами из пункта 2.1:
	1. Оцените загрузку процессора.
	2. Оцените время проведенное в пользовательском режиме и в режиме ядра.
	3. Оцените текущую заполненность очереди, количество попыток чтения-записи и количество прочитанных-записанных данных.
	4. Объясните наблюдаемые результаты.
4. Часто бывает, что поток пишущий данные в очередь вынужден ожидать их (например, из сети на `select()`/`poll()`). Проэмулируйте эту ситуацию, добавив в поточную функцию писателя периодический вызов `usleep(1)`. Выполните задания из пункта 3.
5. Измените реализацию очереди, заменив спинлок на мутекс. Проделайте задания из пунктов 2, 3 и 4. Сравните со спинлоком.
6. Измените реализацию очереди, добавив условную переменную. Проделайте задания из пунктов 2, 3 и 4. Сравните со спинлоком и мутексом.
7. Используйте для синхронизации доступа к очереди семафоры. Проделайте задания из пунктов 2, 3 и 4. Сравните со спинлоком, мутексом и условной переменной.

