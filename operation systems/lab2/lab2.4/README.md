Сделайте "грубую" реализацию спинлока и мутекса при помощи cas-функции и `futex`. Используйте их для синхронизации доступа к разделяемому ресурсу. Объясните принцип их работы.
Как правило, реализовать несложно.

a. Мне хочется, чтобы не оставалось ощущения, что использование футекса,
атомарного CAS и чего-нибудь еще необычного (atomic_int?) воспринималось
как применение магии, про которую сказали что она сработает - надо уметь
обьяснить, что именно оно делает.
Для этого может быть хорошей идеей:

i. если ассемблерная вставка - то покажите ее,

ii. если футекс - расскажите, что там внутри.
Может быть полезным заглянуть в линуксовую реализацию.

b. Сравнить грубую реализацию мутекса с `pthread_mutex`; Обьяснить.

i. какой-нибудь общий тестовый сценарий на разных мутексах

ii. для "обьяснить" опять же можно посмотреть, что там в реализации
`pthread_mutex`.

(взять из lab2.3)
